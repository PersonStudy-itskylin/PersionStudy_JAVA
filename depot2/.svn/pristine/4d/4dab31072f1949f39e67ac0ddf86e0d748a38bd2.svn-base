// JavaScript Document
var docEle = function()
{
   return document.getElementByIdx_x(arguments[0]) || false;
}
                
                
function openNewDiv(_id)
{
    var m = "mask";
    if (docEle(_id)) document.body.removeChild(docEle(_id));
    if (docEle(m)) document.body.removeChild(docEle(m));
    
    //maskÕÚÕÖ²ã

    var newMask = document.createElement_x("div");
     newMask.id = m;
     newMask.style.position = "absolute";
     newMask.style.zIndex = "1";
     _scrollWidth = Math.max(document.body.scrollWidth,document.documentElement.scrollWidth);
     _scrollHeight = Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);
     newMask.style.width = _scrollWidth + "px";
     newMask.style.height = _scrollHeight + "px";
     newMask.style.top = "0px";
     newMask.style.left = "0px";
     newMask.style.background = "#33393C";
     newMask.style.filter = "alpha(opacity=40)";
     newMask.style.opacity = "0.40";
     document.body.appendChild(newMask);
    
    //ÐÂµ¯³ö²ã

    var newDiv = document.createElement_x("div");
     newDiv.id = _id;
     newDiv.style.position = "absolute";
     newDiv.style.zIndex = "9999";
     newDivWidth = 250;
     newDivHeight = 200;
     newDiv.style.width = newDivWidth + "px";
     newDiv.style.height = newDivHeight + "px";
     newDiv.style.top = (document.body.scrollTop + document.body.clientHeight/2 - newDivHeight/2) + "px";
     newDiv.style.left = (document.body.scrollLeft + document.body.clientWidth/2 - newDivWidth/2) + "px";
     newDiv.style.background = "#EFEFEF";
     newDiv.style.border = "1px solid #860001";
     newDiv.style.padding = "5px";
     newDiv.innerHTML = document.getElementByIdx_x("HideDlg").innerHTML;
     newDiv.innerHTML+= "&nbsp"
     document.body.appendChild(newDiv);
    
    //µ¯³ö²ã¹ö¶¯¾ÓÖÐ
    
    function newDivCenter()
    {
         newDiv.style.top = (document.body.scrollTop + document.body.clientHeight/2 - newDivHeight/2) + "px";
         newDiv.style.left = (document.body.scrollLeft + document.body.clientWidth/2 - newDivWidth/2) + "px";
    }    
   if(document.all)
    {
         window.attachEvent("onscroll",newDivCenter);
    }
   else
    {
         window.addEventListener('scroll',newDivCenter,false);
    }
    
   //¹Ø±ÕÐÂÍ¼²ãºÍmaskÕÚÕÖ²ã
                    
   var newA = document.createElement_x("a");
    newA.href = "#";
    newA.innerHTML = "Cancel";
    newA.onclick = function()
    {
        if(document.all)
         {
             window.detachEvent("onscroll",newDivCenter);
         }
        else
         {
             window.removeEventListener('scroll',newDivCenter,false);
         }
         document.body.removeChild(docEle(_id));
         document.body.removeChild(docEle(m));
        return false;
     }        
     newDiv.appendChild(newA);
}

function closeDiv()
{
    if(document.all)
     {
         window.detachEvent("onscroll",newDivCenter);
     }
    else
     {
         window.removeEventListener('scroll',newDivCenter,false);
     }
         document.body.removeChild(docEle(_id));
         document.body.removeChild(docEle(m));
        return false;
}    