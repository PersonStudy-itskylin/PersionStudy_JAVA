(function(){var c=function(){var f="";try{f=window.top.document.referrer}catch(g){if(window.parent){try{f=window.parent.document.referrer}catch(d){f=""}}}if(f===""){f=document.referrer}return f};JDS=window.JDS||{};JDS.strpos=function(e,f,g){var d=(e+"").indexOf(f,(g||0));return d===-1?false:d};JDS.uri=function(d){this.components={};this.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};if(d){this.components=this.parseUri(d)}};JDS.uri.prototype={parseUri:function(h){var g=this.options;var d=g.parser[g.strictMode?"strict":"loose"].exec(h);var f={};var e=14;while(e--){f[g.key[e]]=d[e]||""}f[g.q.name]={};f[g.key[12]].replace(g.q.parser,function(j,i,k){if(i){f[g.q.name][i]=k}});return f},getHost:function(){if(this.components.hasOwnProperty("host")){return this.components.host}},getQueryParam:function(d){if(this.components.hasOwnProperty("queryKey")&&this.components.queryKey.hasOwnProperty(d)){return this.components.queryKey[d]}},isQueryParam:function(d){if(this.components.hasOwnProperty("queryKey")&&this.components.queryKey.hasOwnProperty(d)){return true}else{return false}}};var a=[{d:"baidu",q:"wd"},{d:"google",q:"q"},{d:"images.google",q:"q"},{d:"images.search.yahoo.com",q:"p"},{d:"sogou",q:"query"},{d:"soso",q:"w"},{d:"bing",q:"q"},{d:"youdao",q:"q"},{d:"114so",q:"kw"},{d:"zhongsou",q:"w"},{d:"yisou",q:"q"},{d:"lycos",q:"query"},{d:"lycos",q:"word"},{d:"yahoo",q:"q"},{d:"yahoo",q:"p"},{d:"search",q:"q"},{d:"live",q:"q"},{d:"aol",q:"query"},{d:"aol",q:"encquery"},{d:"aol",q:"q"},{d:"ask",q:"q"},{d:"cnn",q:"query"},{d:"teoma",q:"q"},{d:"yandex",q:"text"}];var b=function(j){for(var g=0,d=a.length;g<d;g++){var k=a[g].d;var e=a[g].q;var h=j.getHost();var f=j.getQueryParam(e);if(!JDS.strpos(h,"360buy")&&JDS.strpos(h,k)&&j.isQueryParam(e)){return{d:k,q:e,k:f}}}};window.jdSref=c();window.jdSuri=new JDS.uri(window.jdSref);window.searchEngineSource=b(window.jdSuri)})();